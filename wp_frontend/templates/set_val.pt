<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="base">
<tal:block metal:fill-slot="headers">
  <link rel="stylesheet"
	href="${request.static_url('deform:static/css/form.css')}"
	type="text/css" />
  <link rel="stylesheet"
	href="${request.static_url('deform:static/css/beautify.css')}"
	type="text/css" />
  <script type="text/javascript" 
	  src="${request.static_url('deform:static/scripts/jquery-1.4.2.min.js')}">
  </script>
  <script type="text/javascript" 
	  src="${request.static_url('deform:static/scripts/deform.js')}">
  </script>
</tal:block>
<tal:block metal:fill-slot="content">
  <span tal:replace="structure form"/>
  <div tal:switch="current_data.data_available">
    <span tal:case="False">
      Couldn't fetch current values.
    </span>
    <span tal:case="True">
      Current values:
      <table>
	<tr tal:repeat="(name, val) current_data">
	  <td> <span tal:replace="name">name</span></td>
	  <td> <span tal:replace="val">val</span></td>
	</tr>
      </table>
    </span>
  </div>
  <div tal:switch="log is None">
    <span tal:case="True">
      Couldn't fetch logs.
    </span>
    <span tal:case="False">
      Log of last changes:
      <table id="log">
	<tr>
	  <th>datetime</th>
	  <th>user</th>
	  <th>attribute</th>
	  <th>oldval</th>
	  <th>newval</th>
	  <th>status</th>
	  <th>WPsetVal_output</th>
	</tr>
	<tr tal:repeat="entry log">
	  <td tal:repeat="item entry"> ${item} </td>
	</tr>
      </table>
    </span>
  </div>
</tal:block>
</html>
